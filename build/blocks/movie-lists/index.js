(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,n=window.wp.blocks,r=JSON.parse('{"UU":"anam-gutenberg-starter-block/movie-lists"}');function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}const u=window.regeneratorRuntime;var h=e.n(u);window.React;const d=window.wp.blockEditor,p=window.wp.element,g=window.wp.components,m=(0,p.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,p.cloneElement)(e,{width:t,height:t,...n,ref:r})})),v=window.wp.primitives,f=window.ReactJSXRuntime,x=(0,f.jsxs)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,f.jsx)(v.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,f.jsx)(v.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),b=(0,f.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(v.Path,{d:"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z"})});function j(e){var n=e.attributes,r=e.setAttributes,o=e.textFontWeightAttr,a=e.textFontSizeAttr,s=e.textLetterSpacingAttr,c=e.textLineHeightAttr,u=e.textStyleAttr,h=e.textDecorationAttr,d=e.textTransformAttr,v=[{name:(0,t.__)("Small"),slug:"small",size:16},{name:(0,t.__)("Medium"),slug:"medium",size:22},{name:(0,t.__)("Big"),slug:"big",size:26}],j=function(e){return function(t){r(i({},e,t))}},w=l((0,p.useState)(!1),2),y=w[0],S=w[1];return(0,f.jsxs)("div",{className:"gts__typography-panel",children:[(0,f.jsxs)(g.Flex,{children:[(0,f.jsx)(g.FlexItem,{children:(0,f.jsx)("strong",{children:"Typography"})}),(0,f.jsx)(g.FlexItem,{children:(0,f.jsx)("button",{className:"components-button is-primary",onClick:function(){S((function(e){return!e}))},children:y?(0,f.jsx)(m,{icon:x}):(0,f.jsx)(m,{icon:b})})})]}),y&&(0,f.jsxs)("div",{style:{background:"#f0f0f0",padding:"15px",marginTop:"15px"},children:[(0,f.jsx)(g.SelectControl,{label:(0,t.__)("Font Weight"),options:[{value:"400",label:"400"},{value:"100",label:"100"},{value:"200",label:"200"},{value:"300",label:"300"},{value:"500",label:"500"},{value:"600",label:"600"},{value:"700",label:"700"},{value:"800",label:"800"},{value:"900",label:"900"}],value:n[o],onChange:j(o)}),(0,f.jsx)(g.FontSizePicker,{fontSizes:v,value:n[a],fallbackFontSize:26,withReset:!0,withSlider:!0,onChange:function(e){r(i({},a,e))}}),(0,f.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,label:"Letter Spacing",value:n[s],onChange:function(e){return r(i({},s,e))},min:1,max:10,allowReset:!0,step:.1}),(0,f.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,label:"Line Height",value:n[c],onChange:function(e){return r(i({},c,e))},min:1,max:10,allowReset:!0,step:.1}),(0,f.jsx)(g.SelectControl,{label:(0,t.__)("Style"),value:n[u],options:[{value:"normal",label:"Default"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],onChange:j(u)}),(0,f.jsx)(g.SelectControl,{label:(0,t.__)("Decoration"),value:n[h],options:[{value:"none",label:"Default"},{value:"overline",label:"Overline"},{value:"underline",label:"Underline"},{value:"line-through",label:"Line Through"}],onChange:j(h)}),(0,f.jsx)(g.SelectControl,{label:(0,t.__)("Transform"),value:n[d],options:[{value:"none",label:"Default"},{value:"capitalize",label:"Capitalize"},{value:"uppercase",label:"Uppercase"},{value:"lowercase",label:"Lowercase"}],onChange:j(d)})]})]})}const w=(0,f.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(v.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z"})});function y(e){var t,n=e.attributes,r=e.setAttributes,o=e.paddingAttr,a=l((0,p.useState)(!1),2),s=a[0],c=a[1];return(0,f.jsxs)("div",{className:"gts__spacing-control-panel",children:[(0,f.jsx)("style",{children:".gts__spacing-control-panel .components-base-control{\n\t\t\t\t\t\tmargin-bottom: 0px;\n\t\t\t\t\t}"}),(0,f.jsxs)(g.Flex,{children:[(0,f.jsx)(g.FlexItem,{children:(0,f.jsx)("strong",{children:"Padding"})}),(0,f.jsx)(g.FlexItem,{children:(0,f.jsx)("button",{className:"components-button is-primary",onClick:function(){c((function(e){return!e}))},children:s?(0,f.jsx)(m,{icon:x}):(0,f.jsx)(m,{icon:w})})})]}),s&&(0,f.jsxs)("div",{style:{background:"#f0f0f0",padding:"15px",marginTop:"15px"},children:[(0,f.jsx)(g.BoxControl,{label:"",units:["px"],values:n[o]||{top:"",right:"",bottom:"",left:""},onChange:(t=o,function(e){r(i({},t,e))}),allowReset:!0}),(0,f.jsx)(g.__experimentalSpacer,{marginBottom:"20px"})]})]})}function S(e){var t=e.props,n=t.attributes,r=t.setAttributes,o=l((0,p.useState)(!1),2),i=(o[0],o[1],l((0,p.useState)(!1),2)),a=(i[0],i[1],l((0,p.useState)(),2)),s=(a[0],a[1],l((0,p.useState)(new Date),2));return s[0],s[1],(0,f.jsxs)("div",{children:[(0,f.jsxs)(d.InspectorControls,{children:[(0,f.jsx)(g.Panel,{children:(0,f.jsx)(g.PanelBody,{icon:"welcome-widgets-menus",initialOpen:!0,title:"Block Structure",children:(0,f.jsx)(g.SelectControl,{label:"Choose Column",value:n.movieColumn,options:[{label:"Column 2",value:2},{label:"Column 3",value:3},{label:"Column 4",value:4}],onChange:function(e){r({movieColumn:+e})}})})}),(0,f.jsx)(g.Panel,{children:(0,f.jsxs)(g.PanelBody,{icon:"welcome-widgets-menus",initialOpen:!0,title:"Meta Information",children:[(0,f.jsx)(g.CheckboxControl,{label:"Genre",help:"Show genre of the movie in the card.",checked:n.showGenre,onChange:function(e){r({showGenre:e})}}),(0,f.jsx)(g.CheckboxControl,{label:"Language",help:"Show Language of the movie in the card.",checked:n.showLanguage,onChange:function(e){r({showLanguage:e})}}),(0,f.jsx)(g.CheckboxControl,{label:"Release Date",help:"Show release date of the movie in the card.",checked:n.showReleaseDate,onChange:function(e){r({showReleaseDate:e})}}),(0,f.jsx)(g.CheckboxControl,{label:"Vote Count",help:"Show vote count of the movie in the card.",checked:n.showVoteCount,onChange:function(e){r({showVoteCount:e})}}),(0,f.jsx)(g.CheckboxControl,{label:"Vote Average",help:"Show vote average of the movie in the card.",checked:n.showVoteAverage,onChange:function(e){r({showVoteAverage:e})}})]})})]}),(0,f.jsxs)(d.InspectorControls,{group:"styles",children:[(0,f.jsx)(g.Panel,{children:(0,f.jsxs)(g.PanelBody,{initialOpen:!0,title:"Title",children:[(0,f.jsx)(y,{attributes:n,setAttributes:r,paddingAttr:"titlePaddingAttr"}),(0,f.jsx)(g.__experimentalSpacer,{style:{border:"solid 1px #f0f0f0"},margin:"10px 0px"}),(0,f.jsx)(j,{attributes:n,setAttributes:r,textFontWeightAttr:"titleFontWeight",textFontSizeAttr:"titleFontSize",textLetterSpacingAttr:"titleLetterSpacing",textLineHeightAttr:"titleLineHeight",textStyleAttr:"titleStyle",textDecorationAttr:"titleDecoration",textTransformAttr:"titleTransform"})]})}),(0,f.jsx)(g.Panel,{children:(0,f.jsxs)(g.PanelBody,{initialOpen:!0,title:"Content",children:[(0,f.jsx)(y,{attributes:n,setAttributes:r,paddingAttr:"contentPaddingAttr"}),(0,f.jsx)(g.__experimentalSpacer,{style:{border:"solid 1px #f0f0f0"},margin:"10px 0px"}),(0,f.jsx)(j,{attributes:n,setAttributes:r,textFontWeightAttr:"titleFontWeight",textFontSizeAttr:"titleFontSize",textLetterSpacingAttr:"titleLetterSpacing",textLineHeightAttr:"titleLineHeight",textStyleAttr:"titleStyle",textDecorationAttr:"titleDecoration",textTransformAttr:"titleTransform"})]})})]})]})}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(){var e=c(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=4,fetch("https://api.themoviedb.org/3/movie/popular"+"?api_key=".concat("94413492db5e2e4ca5e93402ca623fca","&language=en-US&page=1"));case 4:return t=e.sent,e.next=7,t.json();case 7:if(!1!==(n=e.sent).success){e.next=10;break}throw new Error(n.status_message);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=c(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NDQxMzQ5MmRiNWUyZTRjYTVlOTM0MDJjYTYyM2ZjYSIsIm5iZiI6MTcxOTIwNzU0OC45NzY5OCwic3ViIjoiNjY3OTA0YWNlZmRiOGMxNzc0MGI1MmZkIiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.3LtMcOLpN8GfR8UiFDFPUYYHJVft69TrEzPssuTqnBA"}},e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",t);case 3:return n=e.sent,e.next=6,n.json();case 6:if(!1!==(r=e.sent).success){e.next=9;break}throw new Error(r.status_message);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=e.genreIDArr,n=e.attributes.genres.filter((function(e){return t.includes(e.id)}));return(0,f.jsx)("ul",{children:n.map((function(e){return(0,f.jsx)("li",{children:e.name},e.id)}))})},z=function(e){var t=e.movie,n=e.attributes,r=n.titlePaddingAttr;return(0,f.jsxs)("div",{className:"movie-card",children:[(0,f.jsxs)("div",{className:"movie-card__image",children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title}),(0,f.jsxs)("div",{className:"meta",children:[(0,f.jsxs)("div",{class:"language-date",children:[n.showLanguage&&(0,f.jsx)("span",{className:"language",children:t.original_language}),n.showReleaseDate&&(0,f.jsx)("span",{className:"date",children:t.release_date})]}),(0,f.jsxs)("div",{class:"vote",children:[n.showVoteAverage&&(0,f.jsx)("span",{className:"vote-average",children:t.vote_average}),n.showVoteCount&&(0,f.jsx)("span",{className:"vote-count",children:t.vote_count})]})]})]}),(0,f.jsxs)("div",{className:"movie-card__content",children:[(0,f.jsx)(g.__experimentalHeading,{style:{fontSize:"".concat(n.titleFontSize,"px"),fontWeight:n.titleFontWeight,letterSpacing:"".concat(n.titleLetterSpacing,"px"),lineHeight:"".concat(n.titleLineHeight),fontStyle:n.titleStyle,textTransform:n.titleTransform,textDecoration:n.titleDecoration,padding:"".concat(null==r?void 0:r.top," ").concat(null==r?void 0:r.right," ").concat(null==r?void 0:r.bottom," ").concat(null==r?void 0:r.left)},level:2,children:t.title}),(0,f.jsx)("div",{className:"movie-card__overview overview",style:{padding:"".concat(n.contentPaddingAttr.top," ").concat(n.contentPaddingAttr.right," ").concat(n.contentPaddingAttr.bottom," ").concat(n.contentPaddingAttr.left)},children:(0,f.jsx)(g.__experimentalText,{children:t.overview})}),(0,f.jsx)("div",{className:"movie-card__content__footer",style:{padding:"".concat(n.contentPaddingAttr.top," ").concat(n.contentPaddingAttr.right," ").concat(n.contentPaddingAttr.bottom," ").concat(n.contentPaddingAttr.left)},children:n.showGenre&&(0,f.jsx)("div",{className:"genre",children:(0,f.jsx)(O,{genreIDArr:t.genre_ids,attributes:n})})})]})]})};(0,n.registerBlockType)(r.UU,{edit:function(e){var t=(0,d.useBlockProps)(),n=e.attributes,r=e.setAttributes,o=l((0,p.useState)(!1),2),i=(o[0],o[1],l((0,p.useState)([]),2)),a=i[0],s=i[1];return(0,p.useEffect)((function(){n.genres.length<1&&P().then((function(e){r({genres:e.genres})})).catch((function(e){return console.log("genre err",e)})),n.fetchedMovies.length>0&&s(n.fetchedMovies),n.fetchedMovies.length<1&&C().then((function(e){s(e.results),r({fetchedMovies:e.results})})).catch((function(e){return console.log("err",e)}))}),[]),(0,f.jsxs)("div",_(_({},t),{},{children:[(0,f.jsx)(S,{props:e}),(0,f.jsx)("div",{className:"movie-list",style:{gridTemplateColumns:"repeat(\n\t\t\t\t\t\t".concat(n.movieColumn,", 1fr\n\t\t\t\t\t)")},children:a&&a.map((function(e){return(0,f.jsx)(z,{movie:e,attributes:n},e.id)}))})]}))},save:function(){return(0,f.jsx)("div",{children:"wp-content/plugins/gutenberg-starter/includes/Blocks/Inc/Class_Movie_List_Callback.php is responsible for the frontend view and ajax content."})}})})();