(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}window.React;const a=window.wp.data,c=window.wp.blockEditor,s=(window.wp.serverSideRender,window.wp.apiFetch);var l=e.n(s);const u=window.wp.element,d=window.ReactJSXRuntime;function f(e){var t=e.postId,r=(0,a.useSelect)((function(e){return e("core").getEntityRecords("postType","attachment",{include:[t]})}),[t]);return(0,d.jsx)("div",{children:r?r.map((function(e){return(0,d.jsx)("img",{src:e.media_details.sizes.thumbnail.source_url,className:"rounded h-80 object-cover w-full",alt:""})})):"Fetching Image"})}function p(e){var t=e.catArr.toString(),r=i((0,u.useState)(),2),n=r[0],o=r[1];return(0,u.useEffect)((function(){l()({path:"/wp/v2/categories?include=".concat(t)}).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[]),(0,d.jsxs)("div",{children:[!n&&(0,d.jsx)("p",{children:"Fetching Data"}),n&&n.map((function(e){return(0,d.jsx)("a",{href:e.link,style:{marginRight:"10px"},children:e.name})}))]})}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}window.wp.components,window.wp.i18n;const h=JSON.parse('{"UU":"anam-gutenberg-starter-block/post-lists-tab"}');(0,t.registerBlockType)(h.UU,{edit:function(e){var t=(0,c.useBlockProps)(),r=e.attributes,n=e.setAttributes,o=i((0,u.useState)(!1),2),s=o[0],m=o[1],h=(0,a.select)("core"),g=(h.getEntityRecords,h.getMedia,(0,a.select)("core/editor"));return g.getEditorSettings,g.getCurrentPost,(0,u.useEffect)((function(){0===r.categories.length&&l()({path:"/wp/v2/categories"}).then((function(e){var t=[];e.map((function(e){t.push({label:e.name,value:e.id})})),n({categories:t})}))}),[]),(0,u.useEffect)((function(){m(!0),l()({path:"/wp/v2/posts/"}).then((function(e){n({fetchedPosts:e}),m(!1)})).catch((function(e){return console.log("err",e)}))}),[]),(0,a.useSelect)((function(e){if(r.selectedCategroyId){var t=e("core").getEntityRecords("postType","post",{categories:[r.selectedCategroyId]});if(null!=t)return t}}),[r.selectedCategroyId]),(0,d.jsxs)("div",b(b({},t),{},{children:[(0,d.jsxs)("nav",{className:"tab mb-10 flex gap-2 p-4 pl-0",children:[(0,d.jsx)("a",{href:"",className:"active tablinks px-4 py-2 font-semibold text-sm bg-emerald-800 transition-all text-white rounded-full shadow-sm",children:"All"}),r.categories.length>0&&r.categories.map((function(e,t){return(0,d.jsx)("a",{style:{margin:"0px 10px"},href:"#",className:"tablinks px-4 py-2 font-semibold text-sm bg-emerald-500 hover:bg-emerald-800 transition-all text-white rounded-full shadow-sm",children:e.label},t)}))]}),(0,d.jsxs)("div",{className:"post-lists grid grid-cols-3 gap-4",children:[s?(0,d.jsx)("p",{children:"Loading..."}):null,r.fetchedPosts.length>0&&r.fetchedPosts.map((function(e,t){return(0,d.jsxs)("div",{className:"card shadow-md hover:shadow-lg rounded border-solid border-black-200 border-x border-y p-8",children:[r.showFeaturedImage&&0!==e.featured_media&&(0,d.jsx)(f,{postId:e.featured_media}),(0,d.jsx)("h2",{className:"mt-4 inline-block font-poppins text-2xl text-slate-900 hover:text-emerald-600\ttransition font-medium",children:e.title.rendered}),r.showCategory&&(0,d.jsx)(p,{catArr:e.categories}),(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:e.excerpt.rendered},className:"text-slate-600 mt-2"})]},t)}))]})]}))}})})();